graph TB
    subgraph "ğŸ¦ BANKING DATA LAYER"
        CSV[ğŸ“Š CSV Auto-Detection<br/>Strategy Pattern]
        PDF[ğŸ“„ PDF Text Parser<br/>Template Method]
        MT940[ğŸ›ï¸ MT940 Standard<br/>Builder Pattern]
        CAMT[ğŸ“‹ CAMT.053 ISO<br/>Future]
    end

    subgraph "âš™ï¸ IMPORT PIPELINE"
        Factory[ğŸ­ ImporterFactory<br/>Factory Method]
        Detector[ğŸ” BankFormatDetector<br/>Chain of Responsibility]
        Parser[ğŸ“ DataParser<br/>Strategy Pattern]
        Validator[âœ… DataValidator<br/>Command Pattern]
    end

    subgraph "ğŸ’¾ CORE DOMAIN MODEL"
        Transaction[ğŸ’° Transaction Entity<br/>âœ… FERTIG]
        Category[ğŸ“‚ Category Entity<br/>âœ… FERTIG<br/>Composite Pattern]
        TxState[âš¡ TransactionState<br/>âœ… FERTIG<br/>State Pattern]
        TxType[ğŸ”„ TransactionType<br/>âœ… FERTIG]
    end

    subgraph "ğŸ§  BUSINESS LOGIC"
        CategoryService[ğŸ¯ CategoryService<br/>âŒ TODO<br/>Observer Pattern]
        Analytics[ğŸ“ˆ AnalyticsService<br/>âŒ TODO<br/>Template Method]
        Budget[ğŸ’³ BudgetService<br/>âŒ TODO<br/>Command Pattern]
    end

    subgraph "ğŸ“Š DATA VISUALIZATION"
        Controller[ğŸ® DashboardController<br/>âœ… Basic MVC]
        Charts[ğŸ“Š Chart.js Integration<br/>âŒ TODO<br/>Decorator Pattern]
        Reports[ğŸ“‹ ReportGenerator<br/>âŒ TODO<br/>Visitor Pattern]
    end

    subgraph "ğŸ—„ï¸ DATA ACCESS"
        TxRepo[ğŸ’¾ TransactionRepository<br/>âŒ TODO<br/>Repository Pattern]
        CategoryRepo[ğŸ“ CategoryRepository<br/>âŒ TODO]
        PostgreSQL[(ğŸ˜ PostgreSQL 17<br/>âœ… RUNNING)]
    end

    subgraph "ğŸ¯ FAMILY USE CASES"
        Upload[ğŸ“¤ Bankdaten Upload<br/>âŒ TODO]
        Categorize[ğŸ·ï¸ Auto-Kategorisierung<br/>âŒ TODO]
        Visualize[ğŸ‘ï¸ Interactive Charts<br/>âŒ TODO]
        Analyze[ğŸ” Trend Analysis<br/>âŒ TODO]
    end

    %% Data Flow
    CSV --> Factory
    PDF --> Factory
    MT940 --> Factory
    Factory --> Detector
    Detector --> Parser
    Parser --> Validator
    Validator --> Transaction
    
    Transaction --> TxRepo
    Category --> CategoryRepo
    TxRepo --> PostgreSQL
    CategoryRepo --> PostgreSQL
    
    TxRepo --> CategoryService
    TxRepo --> Analytics
    CategoryService --> Budget
    
    Analytics --> Controller
    Budget --> Controller
    Controller --> Charts
    Controller --> Reports
    
    Upload --> Factory
    Categorize --> CategoryService
    Visualize --> Charts
    Analyze --> Analytics

    %% Status Colors
    classDef done fill:#2ECC71,stroke:#27AE60,color:#fff
    classDef todo fill:#E74C3C,stroke:#C0392B,color:#fff
    classDef running fill:#3498DB,stroke:#2980B9,color:#fff
    classDef basic fill:#F39C12,stroke:#E67E22,color:#fff

    class Transaction,Category,TxState,TxType done
    class PostgreSQL running
    class Controller basic
    class CSV,PDF,MT940,Factory,Detector,Parser,Validator,CategoryService,Analytics,Budget,Charts,Reports,TxRepo,CategoryRepo,Upload,Categorize,Visualize,Analyze todo